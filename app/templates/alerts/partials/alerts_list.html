<!-- Alerts list partial -->
{% if alerts %}
<div class="alerts-grid">
    {% for alert in alerts %}
    <div class="alert-card">
        <div class="alert-card__header">
            <span class="alert-card__symbol">{{ alert.ticker.symbol }}</span>
            <span class="pill pill-{{ 'positive' if alert.condition == 'ABOVE' else 'negative' }}">
                {{ "Au-dessus" if alert.condition == "ABOVE" else "En-dessous" }}
            </span>
        </div>
        <div class="alert-card__body">
            <div class="alert-card__detail">
                <span class="text-secondary">Seuil</span>
                <span>{{ alert.threshold_price | currency }}</span>
            </div>
            {% if alert.current_price is not none %}
            <div class="alert-card__detail">
                <span class="text-secondary">Cours actuel</span>
                <span>{{ alert.current_price | currency }}</span>
            </div>
            {% endif %}
        </div>
        <div class="alert-card__actions">
            <form method="post"
                  action="{{ url_for('alerts.delete_alert', alert_id=alert.id) }}"
                  hx-post="{{ url_for('alerts.delete_alert', alert_id=alert.id) }}"
                  hx-target="#alerts-list"
                  hx-swap="innerHTML"
                  hx-confirm="Supprimer cette alerte ?">
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                <button type="submit" class="btn btn-ghost btn-sm" title="Supprimer">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>
                </button>
            </form>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="empty-state">
    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="var(--text-quaternary)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>
    <p>Aucune alerte active</p>
    <p class="text-secondary">Créez votre première alerte pour être notifié des variations de prix</p>
</div>
{% endif %}
